<!doctype html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="./../../assets/css/combined.css">
	<link rel="shortcut icon" href="./../../favicon.ico" />
	<script src="http://ajax.useso.com/jsapi" type="text/javascript"></script>
	<script type="text/javascript">
		var pagepath = 'classes/fieldset/fieldset.html';
		var path = './../../';
		var class_prefix = "Fieldset::";
	</script>
	<script src="./../../assets/js/combined.js"></script>
	<title>Fieldset - 類別 - FuelPHP 简体中文手册</title>
</head>
<body>
	<div id="container">
		<header id="header">
			<div class="table">
				<h1>
					<strong>FuelPHP，PHP 5.3 框架</strong>
					正體中文文件
				</h1>

				
			</div>
			<nav>

				<div class="clear"></div>
			</nav>
			<a href="#" id="toc_handle">目錄</a>
			<div class="clear"></div>
		</header>

		<div id="cse">
			<div id="cse_point"></div>
			<div id="cse_content"></div>
		</div>

		<div id="main">

			<h2>Fieldset 類別</h2>

			<p>
				Fieldset 類別是用來以一個物件導向的方式來建立一個表單並處理它的驗證。
				它使用 Form 和 Validation 類別。此類別本身只意味著欄位集及其欄位的模型，
				而其他兩個類別做真正的事。
			</p>
			<p>
				每個在欄位集中的欄位是透過一個 <a href="field.html">Fieldset_Field</a> 物件來定義，
				你可以直接使用 Fieldset 的 <kbd>field()</kbd> 方法來存取及操作。
			</p>
			<p>
				表單標記的結果是在傳遞 Fieldset 實例到一個檢視或透過呼叫 <kbd>build()</kbd> 時產生。
			</p>

			<article>
				<h4 class="method" id="method_forge">forge($name = 'default', $config = array())</h4>
				<p><strong>forge</strong> 方法回傳一個新的 Fieldset 實例。注意：每個 <kbd>$name</kbd> 只能有一個實例。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>是</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$name</kbd></th>
										<td><pre class="php"><code>'default'</code></pre></td>
										<td>給此 Fieldset 的識別符</td>
									</tr>
									<tr>
										<th><kbd>$config</kbd></th>
										<td><code>array()</code></td>
										<td>配置陣列</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>\Fieldset 物件</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$article_form = Fieldset::forge('article');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>

				<p>
					當建構一個 Fieldset 物件時，你可以傳遞一個允許你用自訂配置來設置物件的配置陣列。
					支援以下項目：
				</p>
				<table class="config">
					<tbody>
						<tr class="header">
							<th>參數</th>
							<th>類型</th>
							<th>預設</th>
							<th>描述</th>
						</tr>
						<tr>
							<th>validation_instance</th>
							<td>Validation 物件</td>
							<td><pre class="php"><code>null</code></pre></td>
							<td>
								你想用來驗證該 Fieldset 的現有 Validation 類別物件。如果沒給，
								一個新的 Validation 物件會為此 Fieldset 被建構。
							</td>
						</tr>
						<tr>
							<th>form_instance</th>
							<td>Form 物件</td>
							<td><pre class="php"><code>null</code></pre></td>
							<td>
								 你想用來建構該 Fieldset 表單的現有 Form 類別物件。如果沒給，
								一個新的 Form 物件會為此 Fieldset 被建構。
							</td>
						</tr>
					</tbody>
				</table>
				<p>
					除了這些欄位，你可以傳遞自訂表單配置來修改 Fieldset 產生表單的方式。
					對於有效的配置值，看看 <kbd>form.php</kbd> 配置檔案。
				</p>
			</article>

			<article>
				<h4 class="method" id="method_instance">instance($instance = null)</h4>
				<p>回傳一個指定的實例，或預設實例（如果必要時建立）。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>是</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$instance</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>你想檢索 Fieldset 實例的識別符</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>\Fieldset 物件<br />
						或 <kbd>false</kbd> 如果指定的實例不存在。</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$article_form = Fieldset::instance('article');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_validation">validation()</h4>
				<p>取得 Validation 實例給目前的 Fieldset。建立該 Validation 實例如果它還不存在。</p>
				<table class="method">
					<tbody>
						<tr>
							<th class="legend">靜態</th>
							<td>否</td>
						</tr>
						<tr>
							<th>回傳</th>
							<td>\Validation 物件</td>
						</tr>
						<tr>
							<th>範例</th>
							<td>
								<pre class="php"><code>$validation = $article_form->validation();</code></pre>
							</td>
						</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_form">form()</h4>
				<p>取得 Form 實例給目前的 Fieldset。建立該 Form 實例如果它還不存在。</p>
				<table class="method">
					<tbody>
						<tr>
							<th class="legend">靜態</th>
							<td>否</td>
						</tr>
						<tr>
							<th>回傳</th>
							<td>\Form 物件</td>
						</tr>
						<tr>
							<th>範例</th>
							<td>
								<pre class="php"><code>$form = $article_form->form();</code></pre>
							</td>
						</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_add">add($name, $label = '', array $attributes = array(), array $rules = array())</h4>
				<p>建立一個 <a href="field.html">Fieldset_Field</a> 實例並添加到目前的 Fieldset。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$name</kbd></th>
										<td><i>必要</i></td>
										<td>HTML name 屬性，也用於參照 Fieldset 中的欄位</td>
									</tr>
									<tr>
										<th><kbd>$label</kbd></th>
										<td><pre class="php"><code>''</code></pre></td>
										<td>欄位標籤</td>
									</tr>
									<tr>
										<th><kbd>$attributes</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>HTML 屬性做為一個關聯陣列</td>
									</tr>
									<tr>
										<th><kbd>$rules</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>要被應用在此欄位的驗證規則</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td><a href="field.html">Fieldset_Field</a> 實例</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$title_field = $article_form->add('article_title', 'Title', array('class' => 'pretty_input'));

// Radio 範例
$ops = array('male', 'female');
$form->add(
	'gender', '',
	array('options' => $ops, 'type' => 'radio', 'value' => 'true')
);

// Checkbox 範例
$ops = array('male', 'female');
$form->add(
	'gender', '',
	array('options' => $ops, 'type' => 'checkbox', 'value' => 'true')
);

// Email input 範例，使用驗證規則
$form->add(
	'email', 'E-mail',
	array('type' => 'email', 'class' => 'pretty_input'),
	array('required', 'valid_email')
);

// text input 範例，使用陣列表示的驗證規則
$form->add(
	'name', 'Full name',
	array('type' => 'name', 'class' => 'pretty_input'),
	array(array('required'), array('valid_string', array('alpha-numeric', 'dots', 'spaces')))
);</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_delete">delete($name)</h4>
				<p>從 Fieldset 移除一個具名的 <a href="field.html">Fieldset_Field</a> 實例。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$name</kbd></th>
										<td><i>必要</i></td>
										<td>Fieldset 內的欄位名稱</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>目前的 Fieldset 實例</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$fieldset->delete('article_title');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_add_before">add_before($name, $label = '', array $attributes = array(), array $rules = array(), $fieldname = null)</h4>
				<p>建立一個 <a href="field.html">Fieldset_Field</a> 實例並添加它到目前的 Fieldset，就在已定義的透過 <strong>$fieldname</strong> 識別的欄位之前。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$name</kbd></th>
										<td><i>必要</i></td>
										<td>HTML name 屬性，也用於參照 Fieldset 中的欄位</td>
									</tr>
									<tr>
										<th><kbd>$label</kbd></th>
										<td><pre class="php"><code>''</code></pre></td>
										<td>欄位標籤</td>
									</tr>
									<tr>
										<th><kbd>$attributes</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>HTML 屬性做為一個關聯陣列</td>
									</tr>
									<tr>
										<th><kbd>$rules</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>要被應用在此欄位的驗證規則</td>
									</tr>
									<tr>
										<th><kbd>$fieldname</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>應該被附加在此欄位前的已定義欄位</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td><a href="field.html">Fieldset_Field</a> 物件</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>// Radio 按鈕欄位，被添加在 'location' 欄位之前。
$ops = array('male', 'female');
$form->add_before('gender', '', array('options' => $ops, 'type' => 'radio', 'value' => 'true'), array(), 'location');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_add_after">add_after($name, $label = '', array $attributes = array(), array $rules = array(), $fieldname = null)</h4>
				<p>建立一個 <a href="field.html">Fieldset_Field</a> 實例並添加它到目前的 Fieldset，就在已定義的透過 <strong>$fieldname</strong> 識別的欄位之後。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$name</kbd></th>
										<td><i>必要</i></td>
										<td>HTML name 屬性，也用於參照 Fieldset 中的欄位</td>
									</tr>
									<tr>
										<th><kbd>$label</kbd></th>
										<td><pre class="php"><code>''</code></pre></td>
										<td>欄位標籤</td>
									</tr>
									<tr>
										<th><kbd>$attributes</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>HTML 屬性做為一個關聯陣列</td>
									</tr>
									<tr>
										<th><kbd>$rules</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>要被應用在此欄位的驗證規則</td>
									</tr>
									<tr>
										<th><kbd>$fieldname</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>應該被附加在此欄位後的已定義欄位</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td><a href="field.html">Fieldset_Field</a> 物件</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>// Radio 按鈕欄位，被添加在 'location' 欄位之後。
$ops = array('male', 'female');
$form->add_after('gender', '', array('options' => $ops, 'type' => 'radio', 'value' => 'true'), array(), 'location');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_field">field($name = null)</h4>
				<p>Gets one or all <a href="field.html">Fieldset_Field</a> instances for the current Fieldset.</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$name</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>The name of an existing field in this Fieldset or null to get all fields.</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td><a href="field.html">Fieldset_Field</a> 實例<br />
						或一個 <a href="field.html">Fieldset_Field</a> 實例的 <kbd>array()</kbd></td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$fields = $article_form->field();
$title_field = $article_form->field('article_title');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_add_model">add_model($class, $instance = null, $method = 'set_form_fields')</h4>
				<p>Add a model's fields. The model must have a method <kbd>set_form_fields()</kbd> that takes this Fieldset instance and adds fields to it.<br />
					<kbd>Orm\Model</kbd> have support this build in.</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$class</kbd></th>
										<td><i>必要</i></td>
										<td>Either a full classname (including full namespace) or object instance of the model to get fields from.</td>
									</tr>
									<tr>
										<th><kbd>$instance</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>Array or object that has the exactly same named properties to populate the fields. (Takes the field names from the model and fetches the remaining parameters from this array/object.</td>
									</tr>
									<tr>
										<th><kbd>$method</kbd></th>
										<td><pre class="php"><code>'set_form_fields'</code></pre></td>
										<td>The name of the method name to call on the model for field fetching.</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>\Fieldset 物件</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$article_form = Fieldset::forge('article');
$article_form->add_model('Model_Article');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_set_config">set_config($config, $value = null)</h4>
				<p>在 Fieldset 設定一個配置值。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$config</kbd></th>
										<td><em>必要</em></td>
										<td>配置陣列。</td>
									</tr>
									<tr>
										<th><kbd>$value</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>如果指定，從傳遞的配置陣列來設定該項目。</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>\Fieldset 物件</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$article_form->set_config($config);

// 或

$article_form->set_config('key', 'value');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article id="method_get_config">
				<h4 class="method" id="method_get_config">get_config($key = null, $default = null)</h4>
				<p>透過鍵取得配置陣列的一個或更多配置值。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$key</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>在一個陣列中的單一或多個鍵，空值來取回全部。</td>
									</tr>
									<tr>
										<th><kbd>$default</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>A single config value or multiple in an array if $key input is an array to be returned if the items aren't found.</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>array() 或混合</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$config = $article_form->get_config();</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article id="method_get_name">
				<h4 class="method" id="method_get_name">get_name()</h4>
				<p>取得 Fieldset 實例識別。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>（無）</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>字串</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
                            <pre class="php"><code>$article_form = Fieldset::forge('article');
$name = $article_form->get_name();  // 'article'</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_populate">populate($input, $repopulate = false)</h4>
				<p>Set initial field values to the given input, optionally set it to repopulate after that as well.</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$input</kbd></th>
										<td><i>必要</i></td>
										<td>An object or associative array of values to assign to their respective Fields,
											or a Model instance to take the values from.</td>
									</tr>
									<tr>
										<th><kbd>$repopulate</kbd></th>
										<td><code>false</code></td>
										<td>Use the repopulate() method after initial populating</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>\Fieldset 物件</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$article_form->populate($model);</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_repopulate">repopulate()</h4>
				<p>Set all field values to the input send by a form submission (uses the form <kbd>method</kbd> attribute
					to decide whether to check POST or GET).</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<i>無</i>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>\Fieldset 物件</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$article_form->repopulate();</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_build">build($action = null)</h4>
				<p>Alias for $this->form()->build() for this fieldset. Generates the HTML form markup. See <a href="form.html">Form</a>.</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$action</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>A URL for the <kbd>action</kbd> attribute of the form.</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>HTML 標記字串</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$this->template->form = $article_form->build(Uri::create('article/submit'));</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_disable">disable($field)</h4>
				<p>
					The <kbd>disable</kbd> method allows you to disable a field from being build. You can use this if you want to alter the sequence of fields
					on the form, or to create more complex layouts without having to build individual fields.
				</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$field</kbd></th>
										<td>必要</td>
										<td>你想要停用的指定欄位。</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>\Fieldset 物件</td>
					</tr>
					<tr>
						<th>拋出</th>
						<td>RuntimeException，如果所給欄位沒定義</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$fieldset->disable('name');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
				<p class="note">The field is not removed from the fieldset, so it will still be validated.</p>
			</article>

			<article>
				<h4 class="method" id="method_enable">enable($field)</h4>
				<p><kbd>enable</kbd> 方法能讓你重新啟用之前已經被<kbd>停用</kbd>的欄位。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$field</kbd></th>
										<td>必要</td>
										<td>你想要啟用的指定欄位。</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>\Fieldset 物件</td>
					</tr>
					<tr>
						<th>拋出</th>
						<td>RuntimeException，如果所給欄位沒定義</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$fieldset->enable('name');</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_input">input($field = null)</h4>
				<p>$this->validation()->input() 的別名。取得一個驗證過的來自 POST 或所給輸入的輸入值陣列。詳見 <a href="validation/validation.html#usage">Validation</a>。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$field</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>要取得輸入的指定欄位。</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>輸入的陣列或指定欄位的字串值</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$input_values = $article_form->input();</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_validated">validated($field = null)</h4>
				<p>$this->validation()->validated() 的別名。取得一個通過驗證的輸入值陣列。詳見 <a href="validation/validation.html#usage">Validation</a>。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$field</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>要取得輸入的指定欄位。</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>輸入的陣列或指定欄位的字串值，或 <kbd>false</kbd> 如果欄位找不到</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$validated_values = $article_form->validated();</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_error">error($field = null)</h4>
				<p>$this->validation()->error() 的別名。取得一個沒通過驗證的輸入值陣列。詳見 <a href="validation/validation.html#usage">Validation</a>。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$field</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>要取得輸入的指定欄位。</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>輸入的陣列或指定欄位的字串值，或 <kbd>false</kbd> 如果欄位找不到</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$errors = $article_form->error();</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_show_errors">show_errors(Array $config = array())</h4>
				<p>$this->validation()->show_errors() 的別名。回傳列表中的所有錯誤，或帶來自 $config 參數的設定標記。詳見 <a href="validation/validation.html#usage">Validation</a>。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$config</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>使用 open_list、close_list、open_error、close_error &amp; no_errors 鍵。覆寫其值</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>輸入的陣列或指定欄位的字串值，或 <kbd>false</kbd> 如果欄位找不到</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>$all_errors = $article_form->show_errors();</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h4 class="method" id="method_set_tabular_form">set_tabular_form($model, $relation, $parent, $blanks = 1)</h4>
				<p>Define an embedded fieldset on a related ORM model to create a One-to-Many form.</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							<table class="parameters">
								<tbody>
									<tr>
										<th>參數</th>
										<th>預設</th>
										<th class="description">描述</th>
									</tr>
									<tr>
										<th><kbd>$model</kbd></th>
										<td><i>必要</i></td>
										<td>Fully namespaced name of the related model on which the form must be generated</td>
									</tr>
									<tr>
										<th><kbd>$relation</kbd></th>
										<td><i>必要</i></td>
										<td>Name of the relation of the parent object that relates to $model</td>
									</tr>
									<tr>
										<th><kbd>$parent</kbd></th>
										<td><i>必要</i></td>
										<td>Parent object that is used to generate the main form, and contains the related records to be displayed in the tabular form</td>
									</tr>
									<tr>
										<th><kbd>$blanks</kbd></th>
										<td><pre class="php"><code>1</code></pre></td>
										<td>Number of empty rows to be displayed in the tabular form</td>
									</tr>
								</tbody>
							</table>
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>Fieldset，鍊結用</td>
					</tr>
					<tr>
						<th>拋出</th>
						<td>RuntimeException，如果不正確的參數被傳遞</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							見 <a href="#one_to_many_forms">以下</a>……
						</td>
					</tr>
					</tbody>
				</table>
				<p class="note">
					The tabular form is displayed in a table, controlled by template definitions in the <kbd>config/form.php</kbd>
					configuration file. You are free to modify these templates, but you should leave the table structure, as the
					fieldset class will add the table headers based on the fields present in each row. This will generate invalid HTML
					if you remove the table and row definition from the template.
				</p>
			</article>

			<article>
				<h4 class="method" id="method_get_tabular_form">get_tabular_form()</h4>
				<p>回傳定義的表格式表單的名稱。</p>
				<table class="method">
					<tbody>
					<tr>
						<th class="legend">靜態</th>
						<td>否</td>
					</tr>
					<tr>
						<th>參數</th>
						<td>
							無
						</td>
					</tr>
					<tr>
						<th>回傳</th>
						<td>混合，表單名稱，或 <kbd>false</kbd> 如果 Fieldset 不是一個表格式表單</td>
					</tr>
					<tr>
						<th>範例</th>
						<td>
							<pre class="php"><code>if ($name = $form->get_tabular_form())
{
	echo '$form is a tabular fieldset named', $name;
}</code></pre>
						</td>
					</tr>
					</tbody>
				</table>
			</article>

			<article>
				<h2 id="create_forms_orm">使用 ORM 模型建立表單</h2>

				<p>The Fieldset class can be used to create forms from ORM models. The following example will build a
					form based on the fields specified in <kbd>$_properties</kbd> of your model. In the example, $article
					is an instance of Model_Article.</p>

				<pre class="php"><code>echo Fieldset::forge('article')->add_model($article)->populate($article, true)->build();</code></pre>

				<p>If you do not wish every property of the model to be on your form, you can set the form type of
					those to <code>false</code> and they will not be generated.<br />
					This actually uses the <a href="../packages/orm/observers/included.html#os_validation">
					Observer_Validation</a> behind the scenes, but you do not need to add it as an observer for this to
					work.</p>
			</article>

			<article>
			<h2 id="one_to_many_forms">Creating One-to-Many forms with ORM Models</h2>
				<p>The Fieldset class can also be used to create forms for an ORM model object and a Many relation. This is done by embedding
					a tabular form fieldset into the main form fieldset, specifying the related model and the name of the relation.</p>

				<p>By default, the One-to-Many fieldset is displayed in tabular form, controlled by the template in the <kbd>config/form.php</kbd> file.
				</p>

				<pre class='php'><code>// We're going to create a one-to-many form of an article, identified by $id, and it's comments

// get the article and it's related comments
$article = Model_Article::find($id, array('related' => array('comments')));

// create the form fieldset for this article using the ORM model's form definition
$form = Fieldset::forge('article')->add_model($article);

/*
 * add the tabular form to it to create the one-to-many table.
 *
 * the data is provided by the relation 'comments' of the $article object, which
 * are objects of the class 'Model_Comment'.
 *
 * you can disable the fieldset tag to avoid embedded fieldsets in your form
 */
$form->add(\Fieldset::forge('tabular')->set_tabular_form('Model_Comment', 'comments', $article)->set_fieldset_tag(false));
				</code></pre>

				<p class="note">這只適用於<strong>沒有</strong>複合鍵的關聯模型！</p>

				<p>
					A tabular form generates HTML input tags that use an array with the name of the relation specified, and the primary key value of the
					record as it's index value. Any blank rows that are added at the bottom of the table will use the relation name, with a '_new' suffix.
					This will allow you to update the parent record, and all related records, in one go, and process the new lines separately.
				</p>
				<p>
					In this example, you'll see input tag names like <code>comments[12][fieldA]</code> for existing rows (in this case a row with <code>id = 12</code>,
					and <code>comments_new[0][fieldA]</code> for a field in the first blank line.
				</p>
				<pre class='php'><code>// Process the posted one-to-many form
if (\Input::post())
{
	// validate the input
	$form->validation()->run();

	// if validated, save the updates
	if ( ! $form->validation()->error())
	{
		// update the article record, and any comment record changes
		$article->from_array($data);

		// do we need to delete tabular form records?
		foreach ($data['comments'] as $id => $row)
		{
			if ($id and ! empty($row['_delete']))
			{
				unset($article->comments[$id]);
			}
		}

		// do we have a new tabular form record data (assuming we've added only one blank line)?
		$data = array_filter($data['comments_new'][0]);

		$new_errors = false;
		if ( ! empty($data))
		{
			// check for required fields
			if (empty($data['fieldA']) or empty($data['fieldB']))
			{
				$new_errors = true;
				// display an error message about missing required fields here...
			}
			else
			{
				// create a new related record
				$article->comments[] = Model_Comment::forge(array('article_id' => $article->id, 'fieldA' => $data['fieldA'], 'fieldB' => $data['fieldB']));
			}
		}

		// save the updates
		if ( ! $new_errors)
		{
			if ($article->save())
			{
				// display a save-succesful message here and redirect away
			}
			else
			{
				// display an error message, save was not succesful
			}
		}
	}
	else
	{
		// inform the user validation failed
	}
}</code></pre>
			</article>

			<article>
			<h2 id="form_attributes">表單屬性</h2>
			<p>The layout of the forms generated by the fieldset is controlled by the <strong>form.php</strong> configuration file.</p>

				<p>
					以下配置值可以被定義：
				</p>

				<table class="config">
					<tbody>
						<tr class="header">
							<th>參數</th>
							<th>類型</th>
							<th>預設</th>
							<th>描述</th>
						</tr>
						<tr>
							<th>prep_value</th>
							<td>布林</td>
							<td><pre class="php"><code>true</code></pre></td>
							<td>
								If true, form values passed to the fieldset will be escaped using <kbd>Security::htmlentities()</kbd>.
							</td>
						</tr>
						<tr>
							<th>auto_id</th>
							<td>布林</td>
							<td><pre class="php"><code>true</code></pre></td>
							<td>
								If true, the id attribute for form fields will be generated if not assigned to the fields manually.
							</td>
						</tr>
						<tr>
							<th>auto_id_prefix</th>
							<td>字串</td>
							<td><pre class="php"><code>'form_'</code></pre></td>
							<td>
								When auto_id is true, prefix the generated id attributes with this string.
							</td>
						</tr>
						<tr>
							<th>form_method</th>
							<td>字串</td>
							<td><pre class="php"><code>'post'</code></pre></td>
							<td>
								Type of form action to generate. Can be 'get' or 'post'.
							</td>
						</tr>
						<tr>
							<th>form_template</th>
							<td>字串</td>
							<td><pre class="php"><code>'\n\t\t{open}<br />\n\t\t&lt;table&gt;\n{fields}\n\t\t&lt;/table&gt;<br />\n\t\t{close}\n'</code></pre></td>
							<td>
								String containing the placeholders for opening- and closing the form, and for the list of input fields.
							</td>
						</tr>
						<tr>
							<th>field_template</th>
							<td>字串</td>
							<td><pre class="php"><code>'\t\t&lt;tr&gt;<br />\n\t\t\t&lt;td class=\"{error_class}\"&gt;<br />{label}{required}&lt;/td&gt;<br />\n\t\t\t&lt;td class=\"{error_class}\"&gt;{field}<br />&lt;span&gt;{description}&lt;/span&gt; {error_msg}<br />&lt;/td&gt;\n\t\t&lt;/tr&gt;\n'</code></pre></td>
							<td>
								String containing the placeholders for generating a single input field.
							</td>
						</tr>
						<tr>
							<th>multi_field_template</th>
							<td>字串</td>
							<td><pre class="php"><code>'\t\t&lt;tr&gt;<br />\n\t\t\t&lt;td class=\"{error_class}\"&gt;<br />{group_label}{required}&lt;/td&gt;<br />\n\t\t\t&lt;td class=\"{error_class}\"&gt;{fields}<br />\n\t\t\t\t{field} {label}<br />\n{fields}&lt;span&gt;{description}&lt;/span&gt;<br />\t\t\t{error_msg}\n\t\t\t&lt;/td&gt;\n\t\t&lt;/tr&gt;\n'</code></pre></td>
							<td>
								String containing the placeholders for generating a single input field with multiple inputs, like a group of radio buttons or checkboxes.
							</td>
						</tr>
						<tr>
							<th>error_template</th>
							<td>字串</td>
							<td><pre class="php"><code>'&lt;span&gt;{error_msg}&lt;/span&gt;'</code></pre></td>
							<td>
								String containing the placeholders for generating input error messages.
							</td>
						</tr>
						<tr>
							<th>group_label</th>
							<td>字串</td>
							<td><pre class="php"><code>'&lt;span&gt;{label}&lt;/span&gt;'</code></pre></td>
							<td>
								String containing the placeholders for generating a label for multi field inputs.
							</td>
						</tr>
						<tr>
							<th>required_mark</th>
							<td>字串</td>
							<td><pre class="php"><code>'*'</code></pre></td>
							<td>
								String containing the HTML to mark input fields as required.
							</td>
						</tr>
						<tr>
							<th>inline_errors</th>
							<td>布林</td>
							<td><pre class="php"><code>false</code></pre></td>
							<td>
								If true, validation error messages will be displayed inline in the form.
							</td>
						</tr>
						<tr>
							<th>error_class</th>
							<td>字串</td>
							<td><pre class="php"><code>null</code></pre></td>
							<td>
								CSS class name to apply to error messages.
							</td>
						</tr>
						<tr>
							<th>label_class</th>
							<td>字串</td>
							<td><pre class="php"><code>null</code></pre></td>
							<td>
								CSS class name to apply to field labels.
							</td>
						</tr>
						<tr>
							<th>tabular_form_template</th>
							<td>字串</td>
							<td><pre class="php"><code>'&lt;table&gt;{fields}&lt;/table&gt;\n'</code></pre></td>
							<td>
								template for the complete tabular form with all it's rows.
							</td>
						</tr>
						<tr>
							<th>tabular_field_template</th>
							<td>字串</td>
							<td><pre class="php"><code>'{field}'</code></pre></td>
							<td>
								Template for embedding a child fieldset in a tabular form.
							</td>
						</tr>
						<tr>
							<th>tabular_row_template</th>
							<td>字串</td>
							<td><pre class="php"><code>'&lt;tr&gt;{fields}&lt;/tr&gt;\n'</code></pre></td>
							<td>
								Template for generating a single row in a tabular form.
							</td>
						</tr>
						<tr>
							<th>tabular_row_field_template</th>
							<td>字串</td>
							<td><pre class="php"><code>'\t\t\t&lt;td&gt;{label}{required}&nbsp;{field} {error_msg}&lt;/td&gt;\n'</code></pre></td>
							<td>
								Template for generating a single field in a row of a tabular form.
							</td>
						</tr>
						<tr>
							<th>tabular_delete_label</th>
							<td>字串</td>
							<td><pre class="php"><code>'Delete?'</code></pre></td>
							<td>
								Column header for the row delete checkbox.
							</td>
						</tr>
					</tbody>
				</table>

				<h3 id="form_attributes_macros">表單屬性巨集</h3>

				<p>以下巨集可被用在表單樣板。</p>

				<table class="config">
					<tbody>
						<tr class="header">
							<th>參數</th>
							<th>描述</th>
						</tr>
						<tr>
							<th>{open}</th>
							<td>表單開始標籤，由 Form::open(); 產生</td>
						</tr>
						<tr>
							<th>{close}</th>
							<td>表單結束標籤，由 Form::open(); 產生</td>
						</tr>
						<tr>
							<th>{fields}</th>
							<td>The block of HTML containing all generated input fields.</td>
						</tr>
						<tr>
							<th>{label}</th>
							<td>Input field label, generated by Form::label();</td>
						</tr>
						<tr>
							<th>{required}</th>
							<td>String indicating the input field is required.</td>
						</tr>
						<tr>
							<th>{error_class}</th>
							<td>Configured class to be applied to error messages.</td>
						</tr>
						<tr>
							<th>{field}</th>
							<td>Generated HTML for the individual input field.</td>
						</tr>
						<tr>
							<th>{description}</th>
							<td>String the field description or a help text to be displayed.</td>
						</tr>
						<tr>
							<th>{error_msg}</th>
							<td>String containing the formatted error message as returned by validation.</td>
						</tr>
						<tr>
							<th>{group_label}</th>
							<td>Input field label for grouped input fields, generated by Form::label();</td>
						</tr>
					</tbody>
				</table>

			</article>

			<article>
			<h2 id="modify_form_attributes">修改表單屬性</h2>
				<p>變更在 Fieldset 中 <kbd>form()</kbd> 實例的屬性可用兩種方式辦到。你可以在 <kbd>forge()</kbd> 方法的屬性陣列中提供你的選項，或直接修改 Form 實例。</p>
				<pre class='php'><code>// 在 Fieldset 物件的屬性中使用 form_attributes 選項
$fieldset = Fieldset::forge('article', array(
	'form_attributes' => array(
		'id' => 'edit_article_form',
		'name' => 'edit_article'
		)
	)
);

// 直接修改表單實例
$fieldset->form()->set_attribute('id', 'edit_article_form');
				</code></pre>
			</article>

			<p><strong>更多範例待編寫。</strong></p>

		</div>

		<footer>
			<p>
				&copy; FuelPHP 開發團隊 2010-2014 - <a href="http://fuelphp.com">FuelPHP</a> 在 MIT 授權許可下發布。
			</p>
		</footer>
	</div>
<!-- Piwik --><script type="text/javascript">var _paq = _paq || [];_paq.push(["trackPageView"]);_paq.push(["enableLinkTracking"]);(function() {var u=(("https:" == document.location.protocol) ? "https" : "http") + "://piwik.ycnets.com/";_paq.push(["setTrackerUrl", u+"piwik.php"]);_paq.push(["setSiteId", "1"]);var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);})();</script><!-- End Piwik Code -->
<body>
</html>
